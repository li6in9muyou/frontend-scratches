<!doctype html>
<html lang="zh" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <title>闭包</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background-color: black;
        color: white;
      }
    </style>
  </head>

  <script type="module">
    function foo(f) {
      let i = 1;
      return () => {
        i *= f;
        return i;
      };
    }
    const two = foo(2);
    const three = foo(3);
    console.log(two(), three());
    console.log(two(), three());
    console.log("it shows that closure is created every time foo is called");
  </script>

  <script type="module">
    function foo(f) {
      let i = 1;
      const arr = [];
      return () => {
        i *= f.f;
        arr.push(i);
        return arr[arr.length - 1];
      };
    }
    const two = foo({ f: 2 });
    const three = foo({ f: 3 });
    console.log(two(), three());
    console.log(two(), three());
    console.log("it shows that closure is created every time foo is called");
  </script>
</html>
