<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Scratch</title>
</head>

<body>
  <script>
    function mergeArr(arr, predicate) {
      return arr.reduce((ans, x) => {
        if (predicate(x)) {
          const back = ans[ans.length - 1];
          if (Array.isArray(back)) {
            back.push(x);
          } else {
            ans.push([x]);
          }
        } else {
          ans.push(x);
        }
        return ans;
      }, []);
    }

    console.log(mergeArr([1, 2, 3, 4, 5], (item) => item > 3));
    console.log(mergeArr([1, 2, 3, 4, 5], (item) => item !== 2));
  </script>
</body>
</html>
